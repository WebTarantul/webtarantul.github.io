{"version":3,"sources":["components/spinner/spinner.svg","components/error-indicator/cloud.svg","reducers/index.js","store.js","actions/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/cart-page.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/spinner/index.js","components/spinner/spinner.js","components/bookstore-service-context/index.js","components/hoc/withBookstoreService.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","services/bookstore-service.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","index.js"],"names":["module","exports","__webpack_require__","p","initialState","bookList","books","error","loading","shoppingCart","cartItems","updateCartItems","item","idx","count","concat","Object","toConsumableArray","slice","updateOrder","state","bookId","quantity","book","find","id","findIndex","newBook","arguments","length","undefined","_item$id","_item$title","title","_item$price","price","_item$count","updateCartItem","updateBookList","action","type","payload","updateShoppingCart","_ref","reducer","objectSpread","store","createStore","applyMiddleware","dispatch","thunkMiddlewere","setTimeout","fetchBookLoad","fetchBookError","addBookToCart","mapDispatchToProps","onIncrease","onDecrease","deleteBookItemFromCart","onDelete","deleteAllBooksFromCart","connect","_ref2","_ref2$shoppingCart","items","total","orderTotal","react_default","a","createElement","className","map","key","onClick","CartPage","shopping_cart_table_shopping_cart_table","BookListItem","onAddBookToCart","coverImage","author","src","alt","Spinner","imgSpinner","React","createContext","BookstoreProvider","Provider","BookstoreConsumer","Consumer","withBookstoreService","WrappedComponent","props","esm_extends","bookstoreService","assign","ErrorIndicator","errorImg","width","BookList","booksItems","components_book_list_item","BookListContainer","this","fetchBooks","_this$props","error_indicator_error_indicator","components_spinner","book_list_BookList","Component","_ref2$bookList","ownPropery","bindActionCreators","getBooks","then","catch","err","console","HomePage","components_book_list","ShopHeader","numItems","react_router_dom","to","App","shop_header_shop_header","react_router","path","component","exact","BookstoreService","data","_this","Promise","resolve","reject","Math","random","Error","ErrorBoundry","hasError","info","setState","children","ReactDOM","render","react_redux_es","components_error_boundry","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.0f309041.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spinner.90680f8b.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud.72ea08ca.svg\";","const initialState = {\r\n  bookList: {\r\n    books: [],\r\n    error: null,\r\n    loading: true\r\n  },\r\n\r\n  shoppingCart: {\r\n    cartItems: []\r\n  }\r\n}\r\n\r\n\r\nconst updateCartItems = (cartItems, item, idx) => {\r\n\r\n  if (item.count === 0) {\r\n    return [\r\n      ...cartItems.slice(0, idx),\r\n      ...cartItems.slice(idx + 1)\r\n    ]\r\n  }\r\n  if (idx > -1) {\r\n    return [\r\n      ...cartItems.slice(0, idx),\r\n      item,\r\n      ...cartItems.slice(idx + 1)\r\n    ]\r\n  }\r\n\r\n  return [\r\n    ...cartItems,\r\n    item\r\n  ]\r\n}\r\n\r\nconst updateCartItem = (item = {}, book, quantity) => {\r\n  const {\r\n    id = book.id,\r\n    title = book.title,\r\n    price = 0,\r\n    count = 0\r\n  } = item;\r\n\r\n  return {\r\n    id,\r\n    title,\r\n    price: book.price * quantity + price,\r\n    count: count + quantity\r\n  }\r\n}\r\n\r\nconst updateOrder = (state, bookId, quantity) => {\r\n  const book = state.bookList.books.find(book => book.id === bookId);\r\n  const idx = state.shoppingCart.cartItems.findIndex(book => book.id === bookId);\r\n  const item = state.shoppingCart.cartItems[idx];\r\n  let newBook = updateCartItem(item, book, quantity)\r\n  return {\r\n    cartItems: updateCartItems(state.shoppingCart.cartItems, newBook, idx),\r\n  }\r\n}\r\nconst updateBookList = (state, action) => {\r\nswitch (action.type) {\r\n  case 'FETCH_BOOK_REQUEST':\r\n      return {\r\n        books: [],\r\n        error: null,\r\n        loading: true\r\n      };\r\n    case 'FETCH_BOOK_ERROR':\r\n      return {\r\n        books: [],\r\n        error: action.payload,\r\n        loading: false\r\n      };\r\n    case 'FETCH_BOOK_LOAD':\r\n      return {\r\n        books: action.payload,\r\n        error: null,\r\n        loading: false\r\n      };\r\n\r\n\r\n  default:\r\n    return state.bookList\r\n    break;\r\n}\r\n}\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_BOOK_TO_CART':\r\n      return updateOrder(state, action.payload, 1);\r\n\r\n    case 'DELETE_BOOK_ITEM_FROM_CART':\r\n      return updateOrder(state, action.payload, -1);\r\n\r\n    case 'DELETE_ALL_BOOKS_FROM_CART':\r\n      const item = state.shoppingCart.cartItems.find(({ id }) => id === action.payload)\r\n      return updateOrder(state, action.payload, -item.count);\r\n\r\n    default:\r\n      return state.shoppingCart;\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_BOOK_REQUEST':\r\n    case 'FETCH_BOOK_ERROR':\r\n    case 'FETCH_BOOK_LOAD':\r\n      return {\r\n        ...state,\r\n        bookList: updateBookList(state, action)\r\n      }\r\n    case 'ADD_BOOK_TO_CART':\r\n    case 'DELETE_BOOK_ITEM_FROM_CART':\r\n    case 'DELETE_ALL_BOOKS_FROM_CART':\r\n\r\n      return {\r\n        ...state,\r\n        shoppingCart: updateShoppingCart(state, action)\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer","import { createStore, applyMiddleware } from 'redux'\r\nimport reducer from './reducers'\r\nimport thunkMiddlewere from 'redux-thunk'\r\n\r\n\r\nconst middlewereString = (store) => (dispatch) => (action) => {\r\n  if (typeof action === 'string') {\r\n    return dispatch({\r\n      type: action\r\n    })\r\n  }\r\n  return dispatch(action)\r\n}\r\n\r\nconst store = createStore(reducer, applyMiddleware(\r\n  middlewereString,\r\n  thunkMiddlewere));\r\n\r\n  const myAction = (dispatch) => {\r\n    setTimeout(() => {\r\n      dispatch({type: 'DELAYED_ACTION'})\r\n    }, 3000);\r\n  }\r\n\r\n  store.dispatch(myAction)\r\n\r\nexport default store","const fetchBookRequest = () => {\n  return {\n    type: 'FETCH_BOOK_REQUEST'\n  }\n}\nconst fetchBookLoad = (books) => {\n  return {\n    type: 'FETCH_BOOK_LOAD',\n    payload: books\n  }\n}\n\nconst fetchBookError = (error) => {\n  return {\n    type: 'FETCH_BOOK_ERROR',\n    payload: error\n  }\n}\n\nconst addBookToCart = (bookId) => {\n  return {\n    type: 'ADD_BOOK_TO_CART',\n    payload: bookId\n  }\n}\n\nconst deleteBookItemFromCart = (bookId) => {\n  return {\n    type: 'DELETE_BOOK_ITEM_FROM_CART',\n    payload: bookId\n  }\n}\n\nconst deleteAllBooksFromCart = (bookId) => {\n  return {\n    type: 'DELETE_ALL_BOOKS_FROM_CART',\n    payload: bookId\n  }\n}\n\nconst fetchBooksOld = (bookstoreService, dispatch) => {\n  dispatch(fetchBookRequest()) ;\n  bookstoreService.getBooks()\n  .then(books => {\n    dispatch(fetchBookLoad(books))\n  })\n  .catch(err => {\n    dispatch(fetchBookError(err))\n    console.error(err)})\n}\n\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\n  dispatch(fetchBookRequest()) ;\n  bookstoreService.getBooks()\n  .then(books => {\n    dispatch(fetchBookLoad(books))\n  })\n  .catch(err => {\n    dispatch(fetchBookError(err))\n    console.error(err)})\n}\n\n\n\nexport {\n  addBookToCart,\n  deleteBookItemFromCart,\n  deleteAllBooksFromCart,\n  fetchBooks}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\n\r\nimport './shopping-cart-table.css';\r\nimport { addBookToCart, deleteBookItemFromCart, deleteAllBooksFromCart } from '../../actions';\r\n\r\nconst ShoppingCartTable = ({ items, total, onIncrease, onDecrease, onDelete }) => {\r\n  const renderRow = (item, idx) => {\r\n    const { id, title, count, price } = item;\r\n    return (\r\n      <tr key={id}>\r\n        <td>{idx + 1}</td>\r\n        <td>{title}</td>\r\n        <td>{count}</td>\r\n        <td>${price}</td>\r\n        <td>\r\n          <button\r\n            onClick={() => onDelete(id)}\r\n            className=\"btn btn-outline-danger btn-sm float-right\">\r\n            <i className=\"fa fa-trash-o\" />\r\n          </button>\r\n          <button\r\n            onClick={() => onIncrease(id)}\r\n            className=\"btn btn-outline-success btn-sm float-right\">\r\n            <i className=\"fa fa-plus-circle\" />\r\n          </button>\r\n          <button\r\n            onClick={() => onDecrease(id)}\r\n            className=\"btn btn-outline-warning btn-sm float-right\">\r\n            <i className=\"fa fa-minus-circle\" />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"shopping-cart-table\">\r\n      <h2>Your Order</h2>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>№</th>\r\n            <th>Item</th>\r\n            <th>Count</th>\r\n            <th>Price</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n        { items.map(renderRow) }\r\n        </tbody>\r\n      </table>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ( { shoppingCart: {cartItems, orderTotal} }) => {\r\n  return {\r\n    items: cartItems,\r\n    total: orderTotal\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  onIncrease: (bookId) => addBookToCart(bookId),\r\n  onDecrease: (bookId) => deleteBookItemFromCart(bookId),\r\n  onDelete: (bookId) => deleteAllBooksFromCart(bookId)\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\r\n","import React from 'react'\nimport ShoppingCartTable from '../shopping-cart-table/shopping-cart-table';\n\nconst CartPage = () => {\n  return (\n    <div>\n      <ShoppingCartTable/>\n    </div>\n  )\n}\n\nexport default CartPage\n","import BookListItem from './book-list-item'\n\nexport default BookListItem","import React from 'react'\n\nimport './book-list-item.css'\n\n\nconst BookListItem = ({book, onAddBookToCart}) => {\n  const {coverImage, title, author, price} = book;\n  return (\n    <li className='list-group-item' >\n       <div className=\"book-list-item\">\n      <div className=\"book-cover\">\n        <img src={coverImage} alt=\"cover\" />\n      </div>\n      <div className=\"book-details\">\n        <span className=\"book-title\">{title}</span>\n        <div className=\"book-author\">{author}</div>\n        <div className=\"book-price\">${price}</div>\n        <button\n          onClick={onAddBookToCart}\n          className=\"btn btn-info add-to-cart\">\n          Add to cart\n        </button>\n      </div>\n    </div>\n    </li>\n  )\n}\n\nexport default BookListItem\n","import Spinner from './spinner'\n\nexport default Spinner","import React from 'react';\nimport './spinner.css';\nimport imgSpinner from './spinner.svg'\n\nconst Spinner = () => {\n  return (\n    <div className=\"spinner\">\n      <img src={imgSpinner} alt=\"spinner\"/>\n    </div>\n  )\n}\n\nexport default Spinner","import React from 'react'\n\nconst {\n  Provider: BookstoreProvider,\n  Consumer: BookstoreConsumer} = React.createContext();\n\nexport {BookstoreProvider, BookstoreConsumer}","import React from 'react'\r\nimport {BookstoreConsumer} from '../bookstore-service-context';\r\n\r\nconst withBookstoreService =  (WrappedComponent) => {\r\n  const hocComponent = ({ ...props }) => {\r\n    return (\r\n      <BookstoreConsumer>\r\n       { (bookstoreService) => {\r\n          return <WrappedComponent {...props} bookstoreService={bookstoreService} />\r\n        }}\r\n      </BookstoreConsumer>\r\n    )\r\n  }\r\n\r\n  return hocComponent\r\n}\r\n\r\n\r\nexport default withBookstoreService;","import React from 'react';\nimport errorImg from './cloud.svg';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return (\n    <div className=\"error-indicator\" >\n      <p className=\"error-indicator__text\"><b>Something was wrong!</b></p>\n      <img className=\"error-indicator__img\" src={errorImg} alt=\"error\" width=\"100\" />\n    </div>\n  )\n}\n\nexport default ErrorIndicator","import React from 'react'\nimport BookListItem from '../book-list-item'\nimport Spinner from '../spinner'\nimport {withBookstoreService} from '../hoc'\nimport {connect} from 'react-redux'\nimport { addBookToCart, fetchBooks } from '../../actions'\nimport ErrorIndicator from '../error-indicator/error-indicator';\nimport { bindActionCreators } from 'C:/Users/tarst/AppData/Local/Microsoft/TypeScript/3.5/node_modules/redux';\n\nconst BookList = ({books, addBookToCart}) => {\n  const booksItems = books.map(book => {\n    return <BookListItem book={book} key={book.id} onAddBookToCart={() => addBookToCart(book.id)} />\n  })\n  return (\n    <ul className='list-group'>\n      {booksItems}\n    </ul>\n  )\n}\n\nclass BookListContainer extends React.Component {\n  componentDidMount() {\n   this.props.fetchBooks()\n  }\n  \n\n  render() {\n    const { books, loading, error, addBookToCart } = this.props;\n\n    if (error) {\n      return <ErrorIndicator/>\n    }\n    if (loading) {\n      return <Spinner/>\n    }\n\n    return (\n     <BookList books={books} addBookToCart={addBookToCart} />\n    )\n  }\n}\n\nconst mapStateToProps = ({bookList: {books, error, loading}}) => {\n  return {\n    books,\n    error,\n    loading\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownPropery) => {\n  return bindActionCreators({\n    fetchBooks: fetchBooks(ownPropery.bookstoreService),\n    addBookToCart:  addBookToCart\n  }, dispatch)\n}\n\nexport default  withBookstoreService(connect(mapStateToProps, mapDispatchToProps)(BookListContainer)) \n\n\n","import BookList from './book-list'\n\nexport default BookList","import React from 'react'\nimport BookList from '../book-list'\nimport ShoppingCartTable from '../shopping-cart-table/shopping-cart-table';\n\nconst HomePage = () => {\n  return (\n    <div>\n      HOME PAGE\n      <BookList/>\n      <ShoppingCartTable/>\n    </div>\n  )\n}\n\nexport default HomePage\n","import React from 'react';\r\nimport './shop-header.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ShopHeader = ({ numItems, total }) => {\r\n  return (\r\n    <header className=\"shop-header row\">\r\n      <Link to=\"/\">\r\n        <div className=\"logo text-dark\">ReStore</div>\r\n      </Link>\r\n      <Link to=\"/cart\">\r\n        <div className=\"shopping-cart\">\r\n          <i className=\"cart-icon fa fa-shopping-cart\" />\r\n          {numItems} items (${total})\r\n        </div>\r\n      </Link>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default ShopHeader;\r\n","import App from './app'\n\nexport default App;","import React from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport {CartPage, HomePage} from '../pages'\r\nimport ShopHeader from '../shop-header/shop-header';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className='container'>\r\n      <ShopHeader/>\r\n      <Switch>\r\n        <Route path='/' component={HomePage} exact />\r\n        <Route path='/cart' component={CartPage} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","\r\nexport default class BookstoreService {\r\n  \r\n  data = [\r\n    {\r\n      id: 1,\r\n      title: 'Production-Ready Microservices',\r\n      author: 'Susan J. Fowler',\r\n      price: 32,\r\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'},\r\n    {\r\n      id: 2,\r\n      title: 'Release It!',\r\n      author: 'Michael T. Nygard',\r\n      price: 45,\r\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg'}\r\n  ];\r\n\r\n  getBooks() {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        if (Math.random() < .85) {\r\n          resolve(this.data)\r\n        }\r\n        reject(new Error('Something bad heppen'))\r\n      }, 700);\r\n    })\r\n  }\r\n}","    \nimport ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;","import React from 'react'\nimport './error-boundry.css';\nimport ErrorIndicator from '../error-indicator/error-indicator';\n\nclass ErrorBoundry extends React.Component {\n\n  state = {\n    hasError: false\n  }\n\n  componentDidCatch (error, info) {\n    this.setState({hasError: true});\n    console.error(error, `Information of error: `,info);\n  }\n \n  render() {\n    const {hasError} = this.state;\n    const {children} = this.props;\n    const content = !hasError ? children : <ErrorIndicator/>;\n    \n    return content;\n  }\n}\n\nexport default ErrorBoundry;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './store'\nimport {Provider} from 'react-redux'\nimport {BrowserRouter as Router} from 'react-router-dom'\n\nimport App from './components/app'\nimport {BookstoreService} from './services'\nimport ErrorBoundry from './components/error-boundry'\nimport {BookstoreProvider} from './components/bookstore-service-context'\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n<Provider store={store}>\n  <ErrorBoundry>\n    <BookstoreProvider value={bookstoreService}>\n      <Router>\n        <App/>\n      </Router>\n    </BookstoreProvider>\n  </ErrorBoundry>\n\n</Provider>\n, document.getElementById('root'))\n"],"sourceRoot":""}